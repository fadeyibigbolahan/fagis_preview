import{r,j as e,m as S,i as F,k as $,S as G}from"./index-u0EnLR2L.js";import{X as T}from"./x-ULtqhADB.js";import{M as D}from"./menu-EFGy9aaj.js";import{B as E}from"./building-2-C7FpOfYY.js";import{C as u}from"./circle-check-big-Dr_Yidoi.js";import{C as m}from"./circle-arrow-right-DtMjKO2K.js";import{A as J}from"./arrow-right-Dp7aK6D0.js";import{S as U}from"./sparkles-K7dkjSwj.js";const _=()=>{const[a,g]=r.useState(1),[j,o]=r.useState(!1),[f,H]=r.useState(""),[N,O]=r.useState(""),[t,c]=r.useState({name:"",description:"",joinCode:"",logo:null,website:"",socialLinks:"",address:"",brandColor:"",isPublic:null}),[w,y]=r.useState(""),[P,v]=r.useState(!1),[M,C]=r.useState(!1),[x,k]=r.useState(!1),l=s=>{const{name:i,value:d,type:n,files:b,checked:p}=s.target;c(i==="isPublic"?{...t,[i]:d==="true"}:{...t,[i]:n==="file"?b[0]:n==="checkbox"?p:d})},A=async s=>{var i,d;s.preventDefault(),console.log("Submitting form"),o(!0);try{const n=new FormData;Object.entries(t).forEach(([R,z])=>{z!==null&&n.append(R,z)}),o(!0);const b=localStorage.getItem("authToken"),p=await F.post(`${$}organizations`,n,{headers:{"Content-Type":"multipart/form-data",Authorization:b}});y(p.data.message||"Organization created successfully"),v(!0),c({name:"",description:"",joinCode:"",logo:null,website:"",socialLinks:"",address:"",brandColor:"",isPublic:null}),O(""),o(!1)}catch(n){console.error(n),C(!0),y(((d=(i=n==null?void 0:n.response)==null?void 0:i.data)==null?void 0:d.message)||"Error creating organization"),o(!1)}},B=()=>g(s=>s+1),L=()=>g(s=>s-1),h=[{number:1,title:"Essential Information",icon:e.jsx(E,{className:"w-5 h-5"}),description:"Basic organization details"},{number:2,title:"Branding",icon:e.jsx(U,{className:"w-5 h-5"}),description:"Visual identity and links"},{number:3,title:"Security & Access",icon:e.jsx(G,{className:"w-5 h-5"}),description:"Privacy and access control"}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"lg:hidden fixed top-4 right-4 z-50",children:e.jsx("button",{onClick:()=>k(!x),className:"p-2 bg-[#003366] text-white rounded",children:x?e.jsx(T,{size:24}):e.jsx(D,{size:24})})}),x&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-[#003366] z-40 p-6",children:e.jsxs("div",{className:"flex flex-col space-y-6 mt-16",children:[e.jsxs("div",{className:"text-white text-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Organization Creation"}),e.jsx("p",{className:"text-blue-100",children:"Complete all steps to create your organization"})]}),e.jsxs("div",{className:"bg-blue-800 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-white font-bold mb-3",children:"Steps"}),e.jsx("ul",{className:"space-y-3",children:h.map(s=>e.jsxs("li",{className:`flex items-center p-2 rounded ${a===s.number?"bg-white text-[#003366]":"text-white"}`,children:[e.jsx("span",{className:"mr-2",children:s.icon}),e.jsx("span",{children:s.title})]},s.number))})]}),e.jsx("button",{className:"bg-white text-[#003366] py-3 px-4 rounded-lg font-bold",onClick:()=>k(!1),children:"Close Menu"})]})}),e.jsx("div",{className:"bg-white border-b-2 border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-[#003366] flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 tracking-tight",children:"Create Organization"})]}),e.jsx("p",{className:"text-gray-600 font-medium max-w-2xl mx-auto text-sm sm:text-base",children:"Set up your organization profile and start building your community. Complete all steps to get started."})]})})}),e.jsx("div",{className:"bg-white border-b-2 border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-6",children:e.jsx("div",{className:"flex items-center justify-between overflow-x-auto pb-2 md:pb-0",children:h.map((s,i)=>e.jsxs("div",{className:"flex items-center flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsx("div",{className:`w-8 h-8 md:w-12 md:h-12 border-2 flex items-center justify-center transition-all duration-200 ${a>=s.number?"bg-[#003366] border-[#003366] text-white":"bg-white border-gray-300 text-gray-400"}`,children:a>s.number?e.jsx(u,{className:"w-4 h-4 md:w-6 md:h-6"}):s.icon}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("div",{className:`font-semibold text-xs md:text-sm transition-colors duration-200 ${a>=s.number?"text-[#003366]":"text-gray-500"}`,children:s.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden md:block",children:s.description})]})]}),i<h.length-1&&e.jsx("div",{className:`w-8 md:w-16 h-0.5 mx-2 md:mx-4 transition-colors duration-200 ${a>s.number?"bg-[#003366]":"bg-gray-300"}`})]},s.number))})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8 lg:gap-12",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white border-2 border-gray-200 p-4 sm:p-6 md:p-8",children:[e.jsx("h2",{className:"font-kanit mb-4 md:mb-6 text-center text-base md:text-lg font-semibold text-[#003366]",children:"CREATE ORGANIZATION"}),f&&e.jsx("div",{className:"mb-4 md:mb-6 p-3 md:p-4 bg-green-50 border-2 border-green-200",children:e.jsx("p",{className:"text-center text-xs md:text-sm text-green-600 font-medium",children:f})}),N&&e.jsx("div",{className:"mb-4 md:mb-6 p-3 md:p-4 bg-red-50 border-2 border-red-200",children:e.jsx("p",{className:"text-center text-xs md:text-sm text-red-600 font-medium",children:N})}),e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a===1&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-[#003366] font-semibold text-center text-xs md:text-sm",children:"Essential Information"}),e.jsxs("div",{className:"mb-3 md:mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center",children:[e.jsx(m,{className:"text-[#003366] flex-shrink-0",size:16}),e.jsx("input",{type:"text",name:"name",value:t.name,onChange:l,className:"w-full text-xs md:text-sm decoration-none outline-none",placeholder:"Enter organization name"})]}),e.jsx("div",{className:"mb-3 md:mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center",children:e.jsx("textarea",{name:"description",value:t.description,onChange:l,className:"w-full text-xs md:text-sm decoration-none outline-none",placeholder:"Enter organization description",rows:3})}),e.jsxs("div",{className:"mb-3 md:mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center",children:[e.jsx(S,{className:"text-[#003366] flex-shrink-0",size:16}),e.jsx("input",{type:"text",name:"joinCode",value:t.joinCode,onChange:l,className:"w-full text-xs md:text-sm decoration-none outline-none",placeholder:"Enter Join Code, if any"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 md:h-30 border-2 border-dashed rounded-lg cursor-pointer bg-white hover:bg-gray-100 transition",children:[t.logo?e.jsx("img",{src:URL.createObjectURL(t.logo),alt:"Logo Preview",className:"h-full object-contain p-2"}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-3 pb-4 md:pt-5 md:pb-6 text-center",children:[e.jsx("svg",{className:"w-6 h-6 md:w-8 md:h-8 mb-1 md:mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4a1 1 0 011-1h8a1 1 0 011 1v12M5 20h14a1 1 0 001-1v-4a1 1 0 00-1-1H5a1 1 0 00-1 1v4a1 1 0 001 1z"})}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:e.jsx("span",{className:"font-semibold",children:"Click to upload organization logo"})}),e.jsx("p",{className:"text-xs text-gray-500 hidden md:block",children:"PNG, JPG, JPEG (max. 2MB)"})]}),e.jsx("input",{type:"file",name:"logo",accept:"image/*",onChange:l,className:"hidden"})]})})]}),a===2&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-[#003366] font-semibold text-center text-xs md:text-sm",children:"Branding"}),e.jsxs("div",{className:"mb-3 md:mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center",children:[e.jsx(m,{className:"text-[#003366] flex-shrink-0",size:16}),e.jsx("input",{type:"text",name:"website",value:t.website,onChange:l,className:"w-full text-xs md:text-sm decoration-none outline-none bg-transparent",placeholder:"Enter website URL"})]}),e.jsxs("div",{className:"mb-3 md:mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center",children:[e.jsx(m,{className:"text-[#003366] flex-shrink-0",size:16}),e.jsx("input",{type:"text",name:"socialLinks",value:t.socialLinks,onChange:l,className:"w-full text-xs md:text-sm decoration-none outline-none bg-transparent",placeholder:"Enter social media links (comma-separated)"})]}),e.jsxs("div",{className:"mb-3 md:mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center",children:[e.jsx(m,{className:"text-[#003366] flex-shrink-0",size:16}),e.jsx("input",{type:"text",name:"address",value:t.address,onChange:l,className:"w-full text-xs md:text-sm decoration-none outline-none bg-transparent",placeholder:"Enter organization address"})]}),e.jsxs("div",{className:"mb-3 md:mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center",children:[e.jsxs("div",{className:"flex justify-center items-center gap-2 flex-shrink-0",children:[e.jsx(m,{className:"text-[#003366]",size:16}),e.jsx("label",{className:"text-xs md:text-sm text-slate-400 mr-2 whitespace-nowrap",children:"Brand Color:"})]}),e.jsx("input",{type:"color",name:"brandColor",value:t.brandColor,onChange:l,className:"w-8 h-6 md:w-10 md:h-6 p-0 border-none bg-transparent cursor-pointer"})]})]}),a===3&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-[#003366] font-semibold text-center text-xs md:text-sm",children:"Security / Access Control"}),e.jsxs("div",{className:"mb-3 md:mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center",children:[e.jsx(S,{className:"text-[#003366] flex-shrink-0",size:16}),e.jsxs("select",{name:"isPublic",value:t.isPublic,onChange:l,className:"w-full text-xs md:text-sm decoration-none outline-none bg-transparent",children:[e.jsx("option",{value:"",children:"Select access type"}),e.jsx("option",{value:"true",children:"Public - Anyone can join"}),e.jsx("option",{value:"false",children:"Private - Only with a join code"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 md:pt-6 border-t-2 border-gray-100 mt-6 md:mt-8",children:[a>1&&e.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 md:px-6 md:py-3 bg-gray-300 text-gray-700 text-xs md:text-sm font-semibold hover:bg-gray-400 transition-colors duration-200",children:"Back"}),a<3?e.jsxs("button",{type:"button",onClick:B,className:"px-4 py-2 md:px-6 md:py-3 bg-[#003366] text-white text-xs md:text-sm font-semibold hover:bg-[#0055aa] transition-colors duration-200 flex items-center space-x-2 ml-auto",children:[e.jsx("span",{children:"Next"}),e.jsx(J,{className:"w-3 h-3 md:w-4 md:h-4"})]}):e.jsx("button",{onClick:s=>A(s),className:"px-4 py-2 md:px-6 md:py-3 bg-green-600 text-white text-xs md:text-sm font-semibold hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 ml-auto",disabled:j,children:j?e.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 border-2 border-t border-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Create Organization"}),e.jsx(u,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]})]})}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-200 p-4 md:p-6 mb-4 md:mb-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3 md:mb-4 text-sm md:text-base",children:"Why Create an Organization?"}),e.jsxs("ul",{className:"space-y-2 md:space-y-3 text-xs md:text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-[#003366] rounded-full mt-1.5 md:mt-2 flex-shrink-0"}),e.jsx("span",{children:"Manage events and community activities"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-[#003366] rounded-full mt-1.5 md:mt-2 flex-shrink-0"}),e.jsx("span",{children:"Build a professional online presence"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-[#003366] rounded-full mt-1.5 md:mt-2 flex-shrink-0"}),e.jsx("span",{children:"Connect with members and track engagement"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-[#003366] rounded-full mt-1.5 md:mt-2 flex-shrink-0"}),e.jsx("span",{children:"Access analytics and insights"})]})]})]}),e.jsxs("div",{className:"bg-[#003366] text-white p-4 md:p-6",children:[e.jsx("h4",{className:"font-bold mb-3 md:mb-4 text-sm md:text-base",children:"Need Help?"}),e.jsx("p",{className:"text-xs md:text-sm text-blue-100 mb-3 md:mb-4",children:"Our support team is here to help you get started with your organization setup."}),e.jsx("button",{className:"w-full bg-white text-[#003366] py-2 px-4 text-xs md:text-sm font-semibold hover:bg-gray-100 transition-colors duration-200",children:"Contact Support"})]})]})]})}),P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white border-2 border-green-200 p-6 md:p-8 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"w-12 h-12 md:w-16 md:h-16 text-green-600 mx-auto mb-3 md:mb-4"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:"Success!"}),e.jsx("p",{className:"text-gray-600 text-sm md:text-base mb-4 md:mb-6",children:w}),e.jsx("button",{onClick:()=>v(!1),className:"w-full bg-green-600 text-white py-2 px-4 text-sm md:text-base font-semibold hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})}),M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white border-2 border-red-200 p-6 md:p-8 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4",children:e.jsx("span",{className:"text-red-600 text-xl md:text-2xl font-bold",children:"!"})}),e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-600 text-sm md:text-base mb-4 md:mb-6",children:w}),e.jsx("button",{onClick:()=>C(!1),className:"w-full bg-red-600 text-white py-2 px-4 text-sm md:text-base font-semibold hover:bg-red-700 transition-colors duration-200",children:"Close"})]})})})]})};export{_ as default};
