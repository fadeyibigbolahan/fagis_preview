import{r as n,u as D,j as t,h as F,i as p,k as w}from"./index-3Lvg4Npy.js";const R="/assets/network-DDCGgOcv.jpg",C=()=>{const[l,j]=n.useState(new Array(6).fill("")),[f,c]=n.useState(""),[m,d]=n.useState(""),[h,i]=n.useState(!1),[x,u]=n.useState(!1),o=n.useRef([]),b=D(),v=(a,e)=>{const s=a.value.replace(/\D/g,"");if(s){const r=[...l];r[e]=s,j(r),e<5&&o.current[e+1]&&o.current[e+1].focus()}},y=(a,e)=>{a.key==="Backspace"&&!l[e]&&e>0&&o.current[e-1].focus()},N=a=>{a.preventDefault(),c(""),d(""),i(!0);const e=l.join("");if(e.length!==6){c("⚠️ Please enter the complete 6-digit code."),i(!1);return}p.post(`${w}auth/verify-email`,{email:"kingwaretech@gmail.com",otp:e}).then(s=>{d("✅ Verification successful!"),i(!1),setTimeout(()=>{b("/dashboard/overview")},500)}).catch(s=>{var r,g;console.error("OTP verification error:",s),c(((g=(r=s.response)==null?void 0:r.data)==null?void 0:g.message)||"❌ Verification failed! Please try again later."),i(!1)})},k=()=>{u(!0),p.post(`${w}auth/resend-code`,{email:"kingwaretech@gmail.com"}).then(a=>{u(!1),d("✅ Verification code sent successfully!")}).catch(a=>{var e,s;u(!1),c(((s=(e=a.response)==null?void 0:e.data)==null?void 0:s.message)||"❌ Failed to resend code! Please try again later.")})};return t.jsxs("div",{className:"relative h-screen w-full flex flex-col gap-y-4 md:flex-row",children:[t.jsx("div",{className:"hidden h-full w-[60%] items-center justify-center bg-[#003366] md:flex",children:t.jsx("div",{className:"w-[60%] shadow-md",children:t.jsx("img",{src:R,alt:"Network",style:{width:"100%",height:"300px"}})})}),t.jsx("div",{className:"h-full w-full bg-[#FFFFFF] md:w-[40%]",children:t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"flex w-full flex-col items-center justify-center rounded-xl bg-white p-8 gap-4",children:[t.jsx("img",{src:F,alt:"fagislong Logo",style:{width:"100px"}}),t.jsx("h2",{className:"font-kanit mb-4 text-center text-sm font-semibold text-[#003366]",children:"ENTER VERIFICATION CODE"}),m&&t.jsx("p",{className:"mb-2 text-center text-sm text-green-600",children:m}),f&&t.jsx("p",{className:"mb-2 text-center text-sm text-red-500",children:f}),t.jsxs("form",{onSubmit:N,className:"w-full",children:[t.jsx("div",{className:"flex justify-between mb-6",children:l.map((a,e)=>t.jsx("input",{type:"text",maxLength:"1",value:a,onChange:s=>v(s.target,e),onKeyDown:s=>y(s,e),ref:s=>o.current[e]=s,className:"w-10 h-10 border rounded text-center text-lg text-[#003366] outline-none focus:ring-2 focus:ring-[#003366]"},e))}),t.jsx("button",{type:"submit",className:"w-full rounded bg-[#003366] py-2 text-white hover:bg-[#7A54A1] flex justify-center items-center",disabled:h,children:h?t.jsx("div",{className:"w-5 h-5 border-2 border-t border-white rounded-full animate-spin"}):"Verify"})]}),t.jsxs("p",{className:"font-kanit mt-4 text-center text-gray-600",children:["Didn't receive code?"," ",t.jsx("button",{className:"text-[#003366] hover:text-[#7A54A1] underline",onClick:k,disabled:x,children:x?"Resending...":"Resend"})]})]})})})]})};export{C as default};
