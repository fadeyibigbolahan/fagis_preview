import{c as k,r as d,m as w,u as q,j as e,C as m,U as I,i as M,k as $,t as U}from"./index-D0uS2KvI.js";import{C as u}from"./circle-check-big-C6RpsUrZ.js";import{F as p}from"./file-text-D9MMYxnD.js";import{X as W}from"./x-DOkL8utF.js";import{C as B}from"./clock-DUo310gt.js";import{M as G}from"./map-pin-1gSI2YUU.js";import{R as O}from"./repeat-BeusQ549.js";import{C as H}from"./circle-dollar-sign-Cl_zdwVx.js";import{A as J}from"./arrow-right-DWL-HLvF.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=k("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=k("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),re=()=>{const[i,h]=d.useState(1),{orgId:C}=w(),{groupId:D}=w();q();const[b,g]=d.useState(!1),[j,f]=d.useState(""),[E,y]=d.useState(!1),[P,v]=d.useState(!1),[t,c]=d.useState({title:"",description:"",date:"",time:"",endDate:"",location:"",price:"",image:null,externalLink:"",isPublic:"true",type:"general",syllabus:"",isRecurring:"false",recurrencePattern:"",recurrenceEndDate:"",recurrenceDays:[],certificateAvailable:"false",instructors:[{name:"",title:"",bio:"",photoUrl:"",contact:""}]}),r=a=>{const{name:s,value:n,type:l,checked:o,files:F}=a.target;c(l==="checkbox"?{...t,[s]:o.toString()}:l==="file"?{...t,[s]:F[0]}:{...t,[s]:n})},S=()=>{if(!t.title||!t.description||!t.date||!t.time||!t.endDate||!t.location)return alert("Please fill in all required fields."),!1;if(t.isRecurring==="true"){if(!t.recurrencePattern||!t.recurrenceEndDate)return alert("Please fill in recurrence pattern and end date."),!1;if(new Date(t.recurrenceEndDate)<new Date(t.date))return alert("Recurrence end date must be after the event start date."),!1;if(t.recurrencePattern==="custom"&&t.recurrenceDays.length===0)return alert("Please select at least one recurrence day."),!1}return!0},R=async a=>{if(a.preventDefault(),!!S()){g(!0);try{const s=new FormData;s.append("groupId",D),s.append("title",t.title),s.append("description",t.description),s.append("date",t.date),s.append("time",t.time),s.append("endDate",t.endDate),s.append("location",t.location),s.append("price",t.price),s.append("image",t.image),s.append("externalLink",t.externalLink),s.append("isPublic",t.isPublic==="true"),s.append("type",t.type),s.append("syllabus",t.syllabus||""),s.append("certificateAvailable",t.certificateAvailable==="true"),s.append("isRecurring",t.isRecurring==="true"),s.append("recurrencePattern",t.recurrencePattern||null),s.append("recurrenceEndDate",t.recurrenceEndDate||""),t.recurrenceDays.forEach(l=>s.append("recurrenceDays[]",l)),t.instructors.forEach((l,o)=>{s.append(`instructors[${o}][name]`,l.name),s.append(`instructors[${o}][title]`,l.title||""),s.append(`instructors[${o}][bio]`,l.bio||""),s.append(`instructors[${o}][contact]`,l.contact||"")});const n=localStorage.getItem("authToken");await M.post(`${$}events/${C}`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:n}}),f("Event created successfully"),y(!0),c({title:"",description:"",date:"",time:"",endDate:"",location:"",price:"",image:null,externalLink:"",isPublic:"true",type:"general",syllabus:"",isRecurring:"false",recurrencePattern:"",recurrenceEndDate:"",recurrenceDays:[],certificateAvailable:"false"})}catch(s){console.error("error creating event..",s),f(s.message||"Error creating event. Please try again."),v(!0)}finally{g(!1)}}},x=(a,s,n)=>{const l=[...t.instructors];l[a][s]=n,c({...t,instructors:l})},L=()=>{c({...t,instructors:[...t.instructors,{name:"",title:"",bio:"",photoUrl:"",contact:""}]})},T=a=>{if(t.instructors.length>1){const s=t.instructors.filter((n,l)=>l!==a);c({...t,instructors:s})}},z=()=>h(a=>a+1),A=()=>h(a=>a-1),N=[{number:1,title:"Event Details",icon:e.jsx(p,{className:"w-5 h-5"}),description:"Basic event information"},{number:2,title:"Schedule & Location",icon:e.jsx(m,{className:"w-5 h-5"}),description:"Date, time and venue details"},{number:3,title:"Configuration",icon:e.jsx(U,{className:"w-5 h-5"}),description:"Type, pricing and settings"}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"bg-white border-b-2 border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-[#003366] flex items-center justify-center",children:e.jsx(m,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Create New Event"})]}),e.jsx("p",{className:"text-gray-600 font-medium max-w-2xl mx-auto",children:"Set up your event details and start engaging your community. Complete all steps to publish your event."})]})})}),e.jsx("div",{className:"bg-white border-b-2 border-gray-200",children:e.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:N.map((a,s)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 border-2 flex items-center justify-center transition-all duration-200 ${i>=a.number?"bg-[#003366] border-[#003366] text-white":"bg-white border-gray-300 text-gray-400"}`,children:i>a.number?e.jsx(u,{className:"w-6 h-6"}):a.icon}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx("div",{className:`font-semibold text-sm transition-colors duration-200 ${i>=a.number?"text-[#003366]":"text-gray-500"}`,children:a.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:a.description})]})]}),s<N.length-1&&e.jsx("div",{className:`w-16 h-0.5 mx-4 transition-colors duration-200 ${i>a.number?"bg-[#003366]":"bg-gray-300"}`})]},a.number))})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white border-2 border-gray-200 p-8",children:[e.jsx("h2",{className:"font-kanit mb-6 text-center text-lg font-semibold text-[#003366]",children:"CREATE NEW EVENT"}),e.jsxs("div",{className:"space-y-6",children:[i===1&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-[#003366] font-semibold text-center text-sm",children:"Event Details"}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(p,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"text",name:"title",value:t.title,onChange:r,required:!0,className:"w-full text-sm decoration-none outline-none",placeholder:"Event Title *"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-start justify-between",children:[e.jsx(p,{className:"text-[#003366] mt-2",size:16}),e.jsx("textarea",{name:"description",value:t.description,onChange:r,required:!0,className:"w-full text-sm decoration-none outline-none",placeholder:"Enter event description *",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Type"}),e.jsxs("select",{name:"type",value:t.type,onChange:r,className:"w-full border rounded px-3 py-2 text-sm outline-none",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"course",children:"Course"}),e.jsx("option",{value:"webinar",children:"Webinar"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"workshop",children:"Workshop"})]})]}),(t.type==="training"||t.type==="course")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Syllabus"}),e.jsx("textarea",{name:"syllabus",value:t.syllabus,onChange:r,rows:4,placeholder:"List topics or outline to be covered",className:"w-full border rounded px-3 py-2 text-sm outline-none"})]}),(t.type==="course"||t.type==="training"||t.type==="workshop")&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded border",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Instructors"}),t.instructors.map((a,s)=>e.jsxs("div",{className:"space-y-3 border-b pb-4 mb-4 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Instructor ",s+1]}),t.instructors.length>1&&e.jsxs("button",{type:"button",onClick:()=>T(s),className:"text-red-500 hover:text-red-700 text-sm flex items-center space-x-1",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:"Remove"})]})]}),e.jsx("input",{type:"text",placeholder:"Instructor Name *",value:a.name,onChange:n=>x(s,"name",n.target.value),className:"w-full border rounded px-3 py-2 text-sm"}),e.jsx("input",{type:"text",placeholder:"Title/Position",value:a.title,onChange:n=>x(s,"title",n.target.value),className:"w-full border rounded px-3 py-2 text-sm"}),e.jsx("textarea",{placeholder:"Bio",value:a.bio,onChange:n=>x(s,"bio",n.target.value),className:"w-full border rounded px-3 py-2 text-sm",rows:3}),e.jsx("input",{type:"text",placeholder:"Contact (email/phone)",value:a.contact,onChange:n=>x(s,"contact",n.target.value),className:"w-full border rounded px-3 py-2 text-sm"})]},s)),e.jsx("button",{type:"button",onClick:L,className:"text-sm bg-blue-100 text-blue-600 px-3 py-1 rounded hover:bg-blue-200 transition-colors",children:"+ Add Instructor"})]})]}),i===2&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-[#003366] font-semibold text-center text-sm",children:"Schedule & Location"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date *"}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(m,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"date",name:"date",value:t.date,onChange:r,required:!0,className:"w-full text-sm decoration-none outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Time *"}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(B,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"time",name:"time",value:t.time,onChange:r,required:!0,className:"w-full text-sm decoration-none outline-none"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date *"}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(m,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"date",name:"endDate",value:t.endDate,onChange:r,required:!0,className:"w-full text-sm decoration-none outline-none"})]})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(G,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"text",name:"location",value:t.location,required:!0,onChange:r,className:"w-full text-sm decoration-none outline-none",placeholder:"Location (Physical or Virtual) *"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(X,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"url",name:"externalLink",value:t.externalLink,onChange:r,className:"w-full text-sm decoration-none outline-none",placeholder:"External link (optional)"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded border",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("input",{type:"checkbox",name:"isRecurring",checked:t.isRecurring==="true",onChange:r}),e.jsxs("label",{className:"text-sm font-medium flex items-center",children:[e.jsx(O,{className:"w-4 h-4 mr-1"}),"Is this a recurring event?"]})]}),t.isRecurring==="true"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recurrence Pattern"}),e.jsxs("select",{name:"recurrencePattern",value:t.recurrencePattern,onChange:r,className:"w-full border rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"Select Pattern"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recurrence End Date"}),e.jsxs("div",{className:"w-full rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(m,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"date",name:"recurrenceEndDate",value:t.recurrenceEndDate,onChange:r,className:"w-full text-sm decoration-none outline-none"})]})]}),t.recurrencePattern==="custom"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Select Days"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(a=>e.jsxs("label",{className:"text-sm flex items-center space-x-1 bg-white px-2 py-1 rounded border",children:[e.jsx("input",{type:"checkbox",checked:t.recurrenceDays.includes(a),onChange:()=>{const s=t.recurrenceDays.includes(a)?t.recurrenceDays.filter(n=>n!==a):[...t.recurrenceDays,a];c({...t,recurrenceDays:s})}}),e.jsx("span",{children:a.substring(0,3)})]},a))})]})]})]})]}),i===3&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-[#003366] font-semibold text-center text-sm",children:"Configuration & Media"}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(H,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"number",name:"price",value:t.price,onChange:r,className:"w-full text-sm decoration-none outline-none",placeholder:"Price ($) - Leave empty for free events"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Banner"}),e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition",children:[t.image?e.jsx("img",{src:URL.createObjectURL(t.image),alt:"Image Preview",className:"h-full object-contain"}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:[e.jsx(V,{className:"w-10 h-10 mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500",children:e.jsx("span",{className:"font-semibold",children:"Click to upload event banner"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (max. 2MB)"})]}),e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:r,className:"hidden"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded border space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"certificateAvailable",checked:t.certificateAvailable==="true",onChange:r}),e.jsx("label",{className:"text-sm",children:"Certificate Available?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Who can see this event?"}),e.jsxs("select",{name:"isPublic",value:t.isPublic,onChange:r,className:"w-full border rounded px-3 py-2 text-sm",children:[e.jsxs("option",{value:"true",children:[e.jsx(I,{className:"inline w-4 h-4 mr-1"}),"Public - Anyone can see and join"]}),e.jsx("option",{value:"false",children:"Private - Only organization members"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-6 border-t-2 border-gray-100 mt-8",children:[i>1&&e.jsx("button",{type:"button",onClick:A,className:"px-6 py-3 bg-gray-300 text-gray-700 font-semibold hover:bg-gray-400 transition-colors duration-200",children:"Back"}),i<3?e.jsxs("button",{type:"button",onClick:z,className:"px-6 py-3 bg-[#003366] text-white font-semibold hover:bg-[#0055aa] transition-colors duration-200 flex items-center space-x-2 ml-auto",children:[e.jsx("span",{children:"Next"}),e.jsx(J,{className:"w-4 h-4"})]}):e.jsx("button",{type:"submit",onClick:R,disabled:b,className:"px-6 py-3 bg-green-600 text-white font-semibold hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2 ml-auto disabled:opacity-60",children:b?e.jsx("div",{className:"w-5 h-5 border-2 border-t border-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Create Event"}),e.jsx(u,{className:"w-4 h-4"})]})})]})]})]})}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-200 p-6 mb-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Event Creation Tips"}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-[#003366] rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Write clear, compelling event titles and descriptions"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-[#003366] rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Upload high-quality banners for better engagement"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-[#003366] rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Set appropriate pricing for paid events"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-[#003366] rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Use recurring events for regular meetups"})]})]})]}),e.jsxs("div",{className:"bg-[#003366] text-white p-6",children:[e.jsx("h4",{className:"font-bold mb-4",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-blue-100 mb-4",children:"Having trouble creating your event? Our support team is ready to assist you."}),e.jsx("button",{className:"w-full bg-white text-[#003366] py-2 px-4 font-semibold hover:bg-gray-100 transition-colors duration-200",children:"Contact Support"})]})]})]})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white border-2 border-green-200 p-8 max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Event Created!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:j}),e.jsx("button",{onClick:()=>y(!1),className:"w-full bg-green-600 text-white py-2 px-4 font-semibold hover:bg-green-700 transition-colors duration-200",children:"Close"})]})})}),P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white border-2 border-red-200 p-8 max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-red-600 text-2xl",children:"!"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-600 mb-6",children:j}),e.jsx("button",{onClick:()=>v(!1),className:"w-full bg-red-600 text-white py-2 px-4 font-semibold hover:bg-red-700 transition-colors duration-200",children:"Close"})]})})})]})};export{re as default};
