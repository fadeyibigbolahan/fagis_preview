import{r as l,i as B,k as K,j as e,C as F,L as ne,z as le,b as ie,S as oe,U as X}from"./index-CS7ZgHMT.js";import{i as ce}from"./index.esm-CVZJPh_s.js";import{P as de}from"./PayUpgradeModule-CQ1P8wel.js";import{X as me}from"./x-Dwv1eVjA.js";import{C as xe}from"./check-Duj1-6fA.js";import{V as se}from"./video-CcGxAs9h.js";import{A as te}from"./award-CyvUNDzK.js";import{T as ae}from"./ticket-9NKODpZH.js";import{T as O}from"./triangle-alert-C_lKQqhF.js";import{C as J}from"./calendar-days-BXaLBQL8.js";import{C as ue}from"./chevron-up-Cgd-W5_r.js";import{C as he}from"./chevron-down-CFf_ZmAL.js";import{R as ge}from"./refresh-cw-CX5PqqV6.js";import{T as pe}from"./trending-up-D-vg3JcM.js";import{R as fe}from"./repeat-DeDykuaw.js";import{C as Q}from"./clock-knIbMwKl.js";import{M as Z}from"./map-pin-CVw3lqYm.js";import{S as be}from"./search-CokmW1tD.js";import{F as je}from"./filter-BBmD6SGh.js";import{S as ee}from"./share-2-JJYddPB0.js";import{E as ye}from"./eye-CWPQ2ELp.js";import{S as we}from"./square-pen-DkRzR1nR.js";import{T as ve}from"./trash-2-CnH9xELA.js";import"./paddleUtils-Dzwv-Tny.js";const Ne=({isOpen:h,onClose:a,currentPlan:M,onUpgradeSuccess:k})=>{const[p,y]=l.useState([]),[f,w]=l.useState(!0),[g,C]=l.useState("1"),S="event-scheduling";l.useEffect(()=>{h&&b()},[h]);const b=async()=>{try{const i=localStorage.getItem("authToken"),m=await B.get(`${K}module-plans?moduleKey=${S}`,{headers:{Authorization:i}});y(m.data.data),w(!1)}catch(i){console.error("Failed to fetch plans:",i),w(!1)}},P=i=>{const m=[],u=i.features||{};return u.maxEventsPerMonth&&m.push(`${u.maxEventsPerMonth==="unlimited"?"Unlimited":u.maxEventsPerMonth} events per month`),u.ticketing&&m.push("Event ticketing"),u.reminders&&m.push("Email reminders"),u.recurringEvents&&m.push("Recurring events"),u.certificateSupport&&m.push("Certificate generation"),u.analytics&&m.push("Advanced analytics"),u.eventAccessControl&&m.push("Event access control"),u.webinarIntegration&&m.push("Webinar integration"),u.prioritySupport&&m.push("Priority support"),m},A=i=>{switch(i==null?void 0:i.toLowerCase()){case"free":return e.jsx(F,{className:"h-6 w-6"});case"basic":return e.jsx(ae,{className:"h-6 w-6"});case"pro":return e.jsx(te,{className:"h-6 w-6"});case"enterprise":return e.jsx(se,{className:"h-6 w-6"});default:return e.jsx(F,{className:"h-6 w-6"})}};return h?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between md:p-6 p-2 border-b",children:[e.jsx("h2",{className:"md:text-2xl text-lg font-bold text-gray-900",children:"Change Event & Scheduling Plan"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(me,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("div",{className:"relative",children:e.jsxs("select",{value:g,onChange:i=>C(i.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-6 py-3 pr-10 text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 shadow-sm cursor-pointer",children:[e.jsx("option",{value:"1",children:"1 Month"}),e.jsx("option",{value:"3",children:"3 Months"}),e.jsx("option",{value:"6",children:"6 Months"}),e.jsx("option",{value:"12",children:"12 Months"})]})})}),f?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.map(i=>{var T;const m=i.pricing[g]||0,u=g==="1"?m:(m/parseInt(g)).toFixed(2),v=P(i),N=i.package===M;return e.jsxs("div",{className:`relative border-2 rounded-xl p-6 transition-all ${N?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:shadow-lg"}`,children:[N&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-purple-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Current Plan"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:A(i.package)}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 capitalize",children:i.package}),e.jsx("p",{className:"text-gray-600 mt-2",children:i.description})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",u]}),e.jsx("span",{className:"text-gray-600 ml-2",children:"/month"})]}),g!=="1"&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["$",m," total"]})]}),e.jsxs("ul",{className:"space-y-3 mb-6",children:[v.slice(0,5).map((U,R)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(xe,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:U})]},R)),v.length>5&&e.jsxs("li",{className:"text-sm text-gray-500",children:["+",v.length-5," more features"]})]}),!N&&e.jsx(de,{email:(T=localStorage.getItem("authUser"))==null?void 0:T.email,amountInNaira:m,moduleKey:S,planId:i.package,duration:g,onSuccess:k,className:"w-full"})]},i._id)})})]})]})}):null},Ce=({eventsThisMonth:h=0})=>{var V,q,H;const[a,M]=l.useState(null),[k,p]=l.useState(!0),[y,f]=l.useState(null),[w,g]=l.useState(h),[C,S]=l.useState(!1),[b,P]=l.useState(!1),[A,i]=l.useState(!1),[m,u]=l.useState(!1),[v,N]=l.useState(null);l.useEffect(()=>{ce({environment:"sandbox",token:"test_d26be2bbdec495f9c195fa2b6b6"}).then(t=>{console.log("Paddle initialized:",t),N(t)}).catch(t=>{console.error("Failed to initialize Paddle:",t)})},[]),l.useEffect(()=>{g(h)},[h]);const T=()=>{u(!0)},U=t=>{console.log("Upgrade successful:",t),alert(`Successfully upgraded to ${t.planId} plan!`),$()},R=async()=>{var t,o,x,E;if(a!=null&&a.moduleKey){P(!0),f(null);try{const j=localStorage.getItem("authToken"),I=await B.post(`${K}subscriptions/renew/module`,{moduleKey:a.moduleKey},{headers:{Authorization:j}});console.log("Renewal response:",I.data),I.data.transactionId&&v?v.Checkout.open({transactionId:I.data.transactionId,successCallback:re=>{console.log("Renewal successful:",re),$()},closeCallback:()=>{console.log("Checkout closed")}}):f("Failed to initiate renewal. Please try again.")}catch(j){console.error("Renewal failed:",j);const I=((o=(t=j==null?void 0:j.response)==null?void 0:t.data)==null?void 0:o.error)||((E=(x=j==null?void 0:j.response)==null?void 0:x.data)==null?void 0:E.message)||"Renewal failed. Please try again.";f(I)}finally{P(!1),i(!1)}}},z=()=>{f(null),i(!0)},D=()=>{i(!1)},$=async()=>{var t,o;try{const x=localStorage.getItem("authToken"),E=await B.get(`${K}organizations/user-subscription/event-scheduling`,{headers:{Authorization:x}});M(E.data),p(!1)}catch(x){console.error("Failed to fetch subscription:",x),f(((o=(t=x==null?void 0:x.response)==null?void 0:t.data)==null?void 0:o.message)||"Error fetching subscription"),p(!1)}};l.useEffect(()=>{$()},[]);const _=t=>{if(!t)return 0;const o=new Date,E=new Date(t)-o;return Math.ceil(E/(1e3*60*60*24))},Y=t=>{switch(t==null?void 0:t.toLowerCase()){case"free":return"from-gray-500 to-gray-700";case"basic":return"from-blue-500 to-blue-700";case"pro":return"from-purple-500 to-purple-700";case"enterprise":return"from-indigo-500 to-indigo-700";default:return"from-blue-500 to-blue-700"}},L=()=>{var o,x;const t=(x=(o=a==null?void 0:a.planDetails)==null?void 0:o.features)==null?void 0:x.maxEventsPerMonth;return t==="unlimited"?0:t>0?w/t*100:0},G=t=>(t==null?void 0:t.charAt(0).toUpperCase())+(t==null?void 0:t.slice(1))||"Basic",s=()=>{var t,o;return((o=(t=a==null?void 0:a.planDetails)==null?void 0:t.pricing)==null?void 0:o["1"])||0},r=()=>{var x;const t=[],o=((x=a==null?void 0:a.planDetails)==null?void 0:x.features)||{};if(o.maxEventsPerMonth){const E=o.maxEventsPerMonth==="unlimited"?"Unlimited":o.maxEventsPerMonth;t.push({icon:J,text:`${E} events per month`})}return o.ticketing&&t.push({icon:ae,text:"Event ticketing"}),o.reminders&&t.push({icon:le,text:"Email reminders"}),o.recurringEvents&&t.push({icon:fe,text:"Recurring events"}),o.certificateSupport&&t.push({icon:te,text:"Certificate generation"}),o.analytics&&t.push({icon:ie,text:"Advanced analytics"}),o.eventAccessControl&&t.push({icon:oe,text:"Event access control"}),o.webinarIntegration&&t.push({icon:se,text:"Webinar integration"}),t};if(k)return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})});if(y||!a)return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-center",children:[e.jsx(O,{className:"h-8 w-8 md:h-12 md:w-12 text-red-400 mb-3"}),e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-1",children:"Subscription Error"}),e.jsx("p",{className:"text-gray-600 text-sm md:text-base mb-4",children:y||"Failed to load subscription data"}),e.jsx(ne,{to:"/event-scheduling",children:e.jsx("button",{className:"px-3 py-1.5 md:px-4 md:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm md:text-base",children:"Get Started"})})]})});const n=_(a==null?void 0:a.nextBillingDate),d=L(),c=(q=(V=a==null?void 0:a.planDetails)==null?void 0:V.features)==null?void 0:q.maxEventsPerMonth,W=a.isActive&&a.status==="active";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br ${Y(a.package)} rounded-lg flex items-center justify-center flex-shrink-0`,children:e.jsx(F,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-gray-900",children:[G(a.package)," Events Plan"]}),e.jsxs("p",{className:"text-gray-600",children:["$",s(),"/month"]})]})]}),e.jsxs("div",{className:"text-left md:text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Current Status"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs md:text-sm font-medium ${W?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{children:"Events This Month"})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[w," of"," ",c==="unlimited"?"∞":c]})]}),c!=="unlimited"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d>=80?"bg-red-500":d>=60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(d,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[c-w," events remaining this month"]})]}),c==="unlimited"&&e.jsx("p",{className:"text-xs text-gray-500",children:"Unlimited events available"})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{children:"Next Billing"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:a.nextBillingDate?new Date(a.nextBillingDate).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-base md:text-lg font-semibold ${n<=7?"text-red-600":n<=30?"text-yellow-600":"text-green-600"}`,children:n>0?`${n} days remaining`:"Expired"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Auto-renewal enabled"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{className:"flex items-center justify-between w-full md:hidden p-3 bg-gray-50 rounded-lg",onClick:()=>S(!C),children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Plan Features"}),C?e.jsx(ue,{className:"h-4 w-4"}):e.jsx(he,{className:"h-4 w-4"})]}),e.jsx("h4",{className:"hidden md:block text-sm font-medium text-gray-700 mb-2",children:"Plan Features"}),e.jsxs("div",{className:`${C?"block":"hidden"} md:block`,children:[e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 md:mt-0",children:r().map((t,o)=>{const x=t.icon;return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-purple-50 text-purple-700",children:[e.jsx(x,{className:"h-3 w-3 mr-1"}),t.text]},o)})}),((H=a.planDetails)==null?void 0:H.description)&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:a.planDetails.description})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:A?e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-purple-50 rounded-lg border border-purple-200 w-full",children:[e.jsx("span",{className:"text-sm text-purple-800 flex-1",children:"Confirm renewal?"}),e.jsx("button",{onClick:R,disabled:b,className:"px-3 py-1 bg-purple-600 text-white text-sm rounded hover:bg-purple-700 disabled:opacity-50",children:b?"Processing...":"Yes"}),e.jsx("button",{onClick:D,disabled:b,className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:z,disabled:b||!(a!=null&&a.moduleKey),className:"flex items-center justify-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex-1 sm:flex-none disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{children:"Renew Plan"})]}),e.jsxs("button",{onClick:T,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-1 sm:flex-none",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Change Plan"})]})]})}),c!=="unlimited"&&d>=80&&e.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg flex items-start gap-3 mb-3",children:[e.jsx(O,{className:"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:"High Usage:"})," You've used"," ",Math.round(d),"% of your monthly event limit. Consider upgrading if you need more events."]})]}),n<=30&&!A&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsx(O,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-yellow-800 flex-1",children:[e.jsx("strong",{children:"Expiring Soon:"})," Your subscription"," ",n>0?`expires in ${n} day${n!==1?"s":""}.`:"has expired."," ","Renew now to avoid service interruption."]})]}),e.jsx("button",{onClick:z,disabled:b,className:"w-full sm:w-auto px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 transition-colors disabled:opacity-50",children:b?"Processing...":"Renew Now"})]}),y&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:y})})]}),e.jsx(Ne,{isOpen:m,onClose:()=>u(!1),currentPlan:a==null?void 0:a.package,moduleKey:a==null?void 0:a.moduleKey,onUpgradeSuccess:U})]})},He=()=>{const[h,a]=l.useState([]),[M,k]=l.useState([]),[p,y]=l.useState(""),[f,w]=l.useState("all"),[g,C]=l.useState("all"),[S,b]=l.useState("date"),[P,A]=l.useState(!0),[i,m]=l.useState(!1),[u,v]=l.useState(null),[N,T]=l.useState([]),[U,R]=l.useState(0);l.useEffect(()=>{(async()=>{try{A(!0),v(null);const r=localStorage.getItem("authToken"),{data:n}=await B.get(`${K}events/owner/events`,{headers:{Authorization:r}});console.log("API Response:",n);const d=n.events.map(c=>({...c,organization:{_id:c.organizationId._id,name:c.organizationId.name,logoUrl:c.bannerUrl,brandColor:"#3B82F6"},bookings:c.members?c.members.length:0,capacity:c.members?Math.max(c.members.length*2,50):50,status:z(c.date,c.endDate)}));a(d),k(d),T(n.monthlyStats||[])}catch(r){console.error("Fetch events error:",r),v("Failed to load events. Please try again later."),a([]),k([])}finally{A(!1)}})()},[]),l.useEffect(()=>{if(N.length>0){const s=new Date,r=s.getFullYear(),n=s.getMonth()+1,d=N.find(c=>c._id.year===r&&c._id.month===n);R(d?d.totalEvents:0)}},[N]);const z=(s,r)=>{const n=new Date,d=new Date(s),c=new Date(r||s);return d>n?"upcoming":d<=n&&c>=n?"ongoing":"completed"};l.useEffect(()=>{let s=h;if(p&&(s=s.filter(r=>{var n;return r.title.toLowerCase().includes(p.toLowerCase())||r.description.toLowerCase().includes(p.toLowerCase())||r.location.toLowerCase().includes(p.toLowerCase())||((n=r.organization)==null?void 0:n.name.toLowerCase().includes(p.toLowerCase()))})),f!=="all"&&(s=s.filter(r=>r.type===f)),g!=="all"){const r=new Date;s=s.filter(n=>{const d=new Date(n.date),c=new Date(n.endDate||n.date);switch(g){case"upcoming":return d>r;case"ongoing":return d<=r&&c>=r;case"completed":return c<r;default:return!0}})}s.sort((r,n)=>{switch(S){case"date":return new Date(r.date)-new Date(n.date);case"title":return r.title.localeCompare(n.title);case"bookings":return n.bookings-r.bookings;case"capacity":return n.capacity-r.capacity;default:return 0}}),k(s)},[h,p,f,g,S]);const D=s=>{const r=new Date,n=new Date(s.date),d=new Date(s.endDate||s.date);return n>r?"upcoming":n<=r&&d>=r?"ongoing":"completed"},$=s=>{switch(s){case"upcoming":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},_=s=>{switch(s){case"workshop":return"bg-purple-100 text-purple-800";case"training":return"bg-orange-100 text-orange-800";case"course":return"bg-indigo-100 text-indigo-800";case"webinar":return"bg-teal-100 text-teal-800";case"general":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Y=s=>new Intl.DateTimeFormat("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(s)),L=s=>s===0?"Free":new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(s),G=()=>h.reduce((s,r)=>s+r.price*(r.bookings||0),0);return P?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-white text-xs p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(Ce,{eventsThisMonth:U}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-[#7A54A150] rounded-lg",children:e.jsx(F,{className:"h-6 w-6 text-[#7A54A1]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-[#7A54A150] rounded-lg",children:e.jsx(X,{className:"h-6 w-6 text-[#7A54A1]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attendees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.reduce((s,r)=>s+(r.bookings||0),0)})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-[#7A54A150] rounded-lg",children:e.jsx(Q,{className:"h-6 w-6 text-[#7A54A1]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming Events"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.filter(s=>D(s)==="upcoming").length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-[#7A54A150] rounded-lg",children:e.jsx(Z,{className:"h-6 w-6 text-[#7A54A1]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L(G()).replace("NGN","₦")})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search events, organizations...",value:p,onChange:s=>y(s.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{className:"flex space-x-3",children:e.jsxs("button",{onClick:()=>m(!i),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]})})]}),i&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:f,onChange:s=>w(s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"course",children:"Course"}),e.jsx("option",{value:"webinar",children:"Webinar"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"workshop",children:"Workshop"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:g,onChange:s=>C(s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{value:S,onChange:s=>b(s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"title",children:"Title"}),e.jsx("option",{value:"bookings",children:"Attendees"}),e.jsx("option",{value:"capacity",children:"Capacity"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{w("all"),C("all"),b("date"),y("")},className:"w-full px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Clear Filters"})})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(s=>{var r,n,d;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:s.bannerUrl||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=400",alt:s.title,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$(D(s))}`,children:D(s)}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(s.type)}`,children:s.type})]}),s.isRecurring&&e.jsx("div",{className:"absolute top-4 right-4 bg-white bg-opacity-90 rounded-full p-2",children:e.jsx(Q,{className:"h-4 w-4 text-gray-600"})}),s.isPublic&&e.jsx("div",{className:"absolute bottom-4 right-4 bg-green-500 bg-opacity-90 text-white px-2 py-1 rounded text-xs",children:"Public"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:((n=(r=s.organization)==null?void 0:r.name)==null?void 0:n.charAt(0))||"O"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:((d=s.organization)==null?void 0:d.name)||"Unknown Organization"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Event Organizer"})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),Y(s.date)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),s.location]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),s.bookings||0," attendees"]}),s.externalLink&&e.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"truncate",children:"External Link Available"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:L(s.price)}),s.certificateAvailable&&e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Certificate Available"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center justify-center space-x-1",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:"View"})]}),e.jsx("button",{className:"bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:e.jsx(we,{className:"h-4 w-4"})}),e.jsx("button",{className:"bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:e.jsx(ee,{className:"h-4 w-4"})}),e.jsx("button",{className:"bg-red-50 text-red-600 py-2 px-4 rounded-lg hover:bg-red-100 transition-colors",children:e.jsx(ve,{className:"h-4 w-4"})})]})]})]},s._id)})}),M.length===0&&!P&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-500",children:h.length===0?"You haven't created any events yet. Create your first event to get started!":"Try adjusting your search or filter criteria"})]})]})})};export{He as default};
