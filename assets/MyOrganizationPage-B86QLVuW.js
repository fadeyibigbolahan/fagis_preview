import{c as ie,r,i as T,k as D,j as e,W as J,a as oe,u as V,L as ce,C as Z,P as de,U as X,q as Q,M as xe}from"./index-CS7ZgHMT.js";import{i as me}from"./index.esm-CVZJPh_s.js";import{P as ue}from"./PayUpgradeModule-CQ1P8wel.js";import{X as he}from"./x-Dwv1eVjA.js";import{C as ee}from"./check-Duj1-6fA.js";import{B as se}from"./building-2-BawgBUey.js";import{T as B}from"./triangle-alert-C_lKQqhF.js";import{C as te}from"./chevron-up-Cgd-W5_r.js";import{C as ae}from"./chevron-down-CFf_ZmAL.js";import{R as ne}from"./refresh-cw-CX5PqqV6.js";import{T as re}from"./trending-up-D-vg3JcM.js";import{F as ge}from"./filter-BBmD6SGh.js";import{G as pe,B as fe}from"./globe-DdaQpyLZ.js";import{L as be}from"./link-0gWHzVRI.js";import{E as je}from"./eye-CWPQ2ELp.js";import{E as ye}from"./eye-off-DHH27n6E.js";import{D as we}from"./dollar-sign-DxUMZJa9.js";import{C as W}from"./clock-knIbMwKl.js";import{C as Ne}from"./circle-check-big-CUbDje_B.js";import"./paddleUtils-Dzwv-Tny.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=ie("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Ce=({isOpen:h,onClose:t,currentPlan:g,onUpgradeSuccess:A})=>{const[E,w]=r.useState([]),[j,y]=r.useState(!0),[p,N]=r.useState("1"),v="admin-organization";r.useEffect(()=>{h&&b()},[h]);const b=async()=>{try{const n=localStorage.getItem("authToken"),o=await T.get(`${D}module-plans?moduleKey=${v}`,{headers:{Authorization:n}});w(o.data.data),y(!1)}catch(n){console.error("Failed to fetch plans:",n),y(!1)}},$=n=>{const o=[],d=n.features||{};return d.maxOrganizations&&o.push(`${d.maxOrganizations==="unlimited"?"Unlimited":d.maxOrganizations} organizations`),d.allowCustomBranding&&o.push("Custom branding"),d.subAdminSupport&&o.push("Sub-admin support"),d.documentUpload&&o.push("Document upload"),d.auditLogs&&o.push("Audit logs"),d.advancedRoles&&o.push("Advanced roles & permissions"),d.apiAccess&&o.push("API access"),d.prioritySupport&&o.push("Priority support"),o},O=n=>{switch(n==null?void 0:n.toLowerCase()){case"basic":return e.jsx(J,{className:"h-6 w-6"});case"pro":return e.jsx(oe,{className:"h-6 w-6"});case"enterprise":return e.jsx(se,{className:"h-6 w-6"});default:return e.jsx(J,{className:"h-6 w-6"})}};return h?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between md:p-6 p-2 border-b",children:[e.jsx("h2",{className:"md:text-2xl text-lg font-bold text-gray-900",children:"Change Admin & Organization Plan"}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(he,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsx("div",{className:"relative",children:e.jsxs("select",{value:p,onChange:n=>N(n.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-6 py-3 pr-10 text-gray-900 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm cursor-pointer",children:[e.jsx("option",{value:"1",children:"1 Month"}),e.jsx("option",{value:"3",children:"3 Months"}),e.jsx("option",{value:"6",children:"6 Months"}),e.jsx("option",{value:"12",children:"12 Months"})]})})}),j?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:E.map(n=>{var P;const o=n.pricing[p]||0,d=p==="1"?o:(o/parseInt(p)).toFixed(2),C=$(n),z=n.package===g;return e.jsxs("div",{className:`relative border-2 rounded-xl p-6 transition-all ${z?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:shadow-lg"}`,children:[z&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Current Plan"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:O(n.package)}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 capitalize",children:n.package}),e.jsx("p",{className:"text-gray-600 mt-2",children:n.description})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-baseline justify-center",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",d]}),e.jsx("span",{className:"text-gray-600 ml-2",children:"/month"})]}),p!=="1"&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["$",o," total"]})]}),e.jsxs("ul",{className:"space-y-3 mb-6",children:[C.slice(0,5).map((I,s)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(ee,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:I})]},s)),C.length>5&&e.jsxs("li",{className:"text-sm text-gray-500",children:["+",C.length-5," more features"]})]}),!z&&e.jsx(ue,{email:(P=localStorage.getItem("authUser"))==null?void 0:P.email,amountInNaira:o,moduleKey:v,planId:n.package,duration:p,onSuccess:A,className:"w-full"})]},n._id)})})]})]})}):null},Se=({orgCount:h=0})=>{var Y,q,H;const[t,g]=r.useState(null),[A,E]=r.useState(!0),[w,j]=r.useState(null),[y,p]=r.useState(h),[N,v]=r.useState(!1),[b,$]=r.useState(!1),[O,n]=r.useState(!1),[o,d]=r.useState(!1),[C,z]=r.useState(null);V(),r.useEffect(()=>{me({environment:"sandbox",token:"test_d26be2bbdec495f9c195fa2b6b6"}).then(a=>{console.log("Paddle initialized:",a),z(a)}).catch(a=>{console.error("Failed to initialize Paddle:",a)})},[]),r.useEffect(()=>{p(h)},[h]);const P=()=>{d(!0)},I=a=>{console.log("Upgrade successful:",a),alert(`Successfully upgraded to ${a.planId} plan!`)},s=async()=>{var a,i,u,f;if(t!=null&&t.moduleKey){$(!0),j(null);try{const m=localStorage.getItem("authToken"),M=await T.post(`${D}subscriptions/renew/module`,{moduleKey:t.moduleKey},{headers:{Authorization:m}});console.log("Renewal response:",M.data),M.data.transactionId&&C?C.Checkout.open({transactionId:M.data.transactionId,successCallback:le=>{console.log("Renewal successful:",le)},closeCallback:()=>{console.log("Checkout closed")}}):j("Failed to initiate renewal. Please try again.")}catch(m){console.error("Renewal failed:",m);const M=((i=(a=m==null?void 0:m.response)==null?void 0:a.data)==null?void 0:i.error)||((f=(u=m==null?void 0:m.response)==null?void 0:u.data)==null?void 0:f.message)||"Renewal failed. Please try again.";j(M)}finally{$(!1),n(!1)}}},c=()=>{j(null),n(!0)},S=()=>{n(!1)};r.useEffect(()=>{(async()=>{var i,u;try{const f=localStorage.getItem("authToken"),m=await T.get(`${D}organizations/user-subscription/admin-organization`,{headers:{Authorization:f}});g(m.data),console.log("API Response:",m.data)}catch(f){console.error("Failed to fetch subscription:",f),j(((u=(i=f==null?void 0:f.response)==null?void 0:i.data)==null?void 0:u.message)||"Error fetching subscription")}finally{E(!1)}})()},[]);const k=a=>{if(!a)return 0;const i=new Date,f=new Date(a)-i;return Math.ceil(f/(1e3*60*60*24))},l=a=>{switch(a==null?void 0:a.toLowerCase()){case"basic":return"from-gray-500 to-gray-700";case"pro":return"from-blue-500 to-blue-700";case"enterprise":return"from-purple-500 to-purple-700";default:return"from-blue-500 to-blue-700"}},U=()=>{var i,u;const a=((u=(i=t==null?void 0:t.planDetails)==null?void 0:i.features)==null?void 0:u.maxOrganizations)||0;return a>0?y/a*100:0},F=a=>(a==null?void 0:a.charAt(0).toUpperCase())+(a==null?void 0:a.slice(1))||"Basic",R=()=>{var a,i;return((i=(a=t==null?void 0:t.planDetails)==null?void 0:a.pricing)==null?void 0:i["1"])||0},L=()=>{var u;const a=[],i=((u=t==null?void 0:t.planDetails)==null?void 0:u.features)||{};return i.maxOrganizations&&a.push(`Up to ${i.maxOrganizations} organizations`),i.allowCustomBranding&&a.push("Custom branding"),i.advancedAnalytics&&a.push("Advanced analytics"),i.prioritySupport&&a.push("Priority support"),a.push("Basic admin tools"),a};if(A)return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})});if(w||!t)return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-center",children:[e.jsx(B,{className:"h-12 w-12 text-red-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Subscription Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:w||"Failed to load subscription data"}),e.jsx(ce,{to:"/admin-organization",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Get Started"})})]})});const x=k(t==null?void 0:t.nextBillingDate),K=U(),_=((q=(Y=t==null?void 0:t.planDetails)==null?void 0:Y.features)==null?void 0:q.maxOrganizations)||0,G=t.isActive&&t.status==="active";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br ${l(t.package)} rounded-lg flex items-center justify-center flex-shrink-0`,children:e.jsx(ve,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-gray-900",children:[F(t.package)," Plan"]}),e.jsxs("p",{className:"text-gray-600",children:["$",R(),"/month"]})]})]}),e.jsxs("div",{className:"text-left md:text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Current Status"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs md:text-sm font-medium ${G?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:G?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:"Organizations"})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[y," of ",_]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${K>=80?"bg-red-500":K>=60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(K,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Math.max(_-y,0)," ","organizations remaining"]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{children:"Next Billing"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:t.nextBillingDate?new Date(t.nextBillingDate).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-base md:text-lg font-semibold ${x<=7?"text-red-600":x<=30?"text-yellow-600":"text-green-600"}`,children:x>0?`${x} days remaining`:"Expired"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Auto-renewal enabled"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{className:"flex items-center justify-between w-full md:hidden p-3 bg-gray-50 rounded-lg",onClick:()=>v(!N),children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Plan Features"}),N?e.jsx(te,{className:"h-4 w-4"}):e.jsx(ae,{className:"h-4 w-4"})]}),e.jsx("h4",{className:"hidden md:block text-sm font-medium text-gray-700 mb-2",children:"Plan Features"}),e.jsxs("div",{className:`${N?"block":"hidden"} md:block`,children:[e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 md:mt-0",children:L().map((a,i)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),a]},i))}),((H=t.planDetails)==null?void 0:H.description)&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:t.planDetails.description})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:O?e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded-lg border border-blue-200 w-full",children:[e.jsx("span",{className:"text-sm text-blue-800 flex-1",children:"Confirm renewal?"}),e.jsx("button",{onClick:s,disabled:b,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50",children:b?"Processing...":"Yes"}),e.jsx("button",{onClick:S,disabled:b,className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:c,disabled:b||!(t!=null&&t.moduleKey),className:"flex items-center text-xs justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex-1 sm:flex-none disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:"Renew Plan"})]}),e.jsxs("button",{onClick:P,className:"flex items-center text-xs justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-1 sm:flex-none",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:"Change Plan"})]})]})}),x<=30&&!O&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[e.jsx(B,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-yellow-800 flex-1",children:[e.jsx("strong",{children:"Expiring Soon:"})," Your subscription"," ",x>0?`expires in ${x} day${x!==1?"s":""}.`:"has expired."," ","Renew now to avoid service interruption."]})]}),e.jsx("button",{onClick:c,disabled:b,className:"w-full sm:w-auto px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 transition-colors disabled:opacity-50",children:b?"Processing...":"Renew Now"})]}),w&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:w})})]}),e.jsx(Ce,{isOpen:o,onClose:()=>d(!1),currentPlan:t==null?void 0:t.package,moduleKey:t==null?void 0:t.moduleKey,onUpgradeSuccess:I})]})},Ye=()=>{const[h,t]=r.useState(null),[g,A]=r.useState("all"),[E,w]=r.useState([]),[j,y]=r.useState(!0),[p,N]=r.useState(null),[v,b]=r.useState(!1),[$,O]=r.useState(window.innerWidth<768),n=V();r.useEffect(()=>{const s=()=>{O(window.innerWidth<768)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),r.useEffect(()=>{(async()=>{try{y(!0);const c=localStorage.getItem("authToken"),k=(await T.get(`${D}org/owned`,{headers:{Authorization:c}})).data.map(l=>{var U,F,R,L;return{id:l._id,name:l.name,type:"Organization",members:0,status:((U=l.subscription)==null?void 0:U.status)==="active"?"active":"inactive",subscriptionEnd:l.trialEndsAt?new Date(l.trialEndsAt).toISOString().split("T")[0]:"N/A",subscriptionPlan:((F=l.subscription)==null?void 0:F.plan)||"free",description:l.description,website:l.website,isPublic:l.isPublic,joinCode:l.joinCode,logoUrl:l.logoUrl,modules:((R=l.subscribedModules)==null?void 0:R.map(x=>({name:x.name||"Unknown Module",status:x.status||"active",expires:x.expiresAt?new Date(x.expiresAt).toISOString().split("T")[0]:l.trialEndsAt?new Date(l.trialEndsAt).toISOString().split("T")[0]:"N/A"})))||[{name:"Admin & Organization",status:((L=l.subscription)==null?void 0:L.status)==="active"?"active":"trial",expires:l.trialEndsAt?new Date(l.trialEndsAt).toISOString().split("T")[0]:"N/A"}]}});w(k),N(null)}catch(c){console.error("Error fetching organizations:",c),N("Failed to fetch organizations")}finally{y(!1)}})()},[]);const o={"Admin & Organization":Q,"Event & Scheduling":Z,"Education & Upskilling":fe,"Marketing & Communication":xe,"Finance & Payment":we,"Member Engagement":X,"Data & Analytics":re},d=s=>{switch(s){case"active":return"text-green-700 bg-green-100 border-green-200";case"trial":return"text-blue-700 bg-blue-100 border-blue-200";case"expiring":return"text-amber-700 bg-amber-100 border-amber-200";case"expired":case"inactive":return"text-red-700 bg-red-100 border-red-200";default:return"text-gray-700 bg-gray-100 border-gray-200"}},C=s=>{switch(s){case"active":return Ne;case"trial":return W;case"expiring":return W;case"expired":case"inactive":return B;default:return W}},z=s=>{if(!s||s==="N/A")return 0;const c=new Date,k=new Date(s)-c;return Math.ceil(k/(1e3*60*60*24))},P=E.filter(s=>g==="all"?!0:g==="expiring"?s.modules.some(c=>{const S=z(c.expires);return S>0&&S<=30}):s.modules.some(c=>c.status===g)),I=()=>{window.location.reload()};return j?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your organizations..."})]})}):p?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(B,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-4",children:p}),e.jsxs("button",{onClick:I,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})}):e.jsxs("div",{className:"min-h-screen bg-white text-xs",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{children:e.jsx(Se,{orgCount:E.length})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Organizations"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all your organizations in one place"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{className:"sm:hidden flex items-center justify-between w-full px-4 py-2 bg-white border border-gray-300 rounded-lg",onClick:()=>b(!v),children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Filter Organizations"]}),v?e.jsx(te,{className:"h-4 w-4"}):e.jsx(ae,{className:"h-4 w-4"})]}),e.jsx("div",{className:`${v?"block":"hidden"} sm:block`,children:e.jsxs("select",{className:"w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:g,onChange:s=>A(s.target.value),children:[e.jsx("option",{value:"all",children:"All Organizations"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"trial",children:"Trial"}),e.jsx("option",{value:"expiring",children:"Expiring Soon"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("button",{className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>n("/dashboard/create-organization"),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"New Organization"]})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"space-y-4",children:P.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx(X,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No organizations found"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:g==="all"?"You don't have any organizations yet. Create your first organization to get started.":`No organizations match the "${g}" filter. Try a different filter.`}),g!=="all"&&e.jsx("button",{className:"mt-4 px-4 py-2 text-blue-600 hover:text-blue-800",onClick:()=>A("all"),children:"Clear filters"})]}):P.map(s=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:s.logoUrl?e.jsx("img",{src:s.logoUrl,alt:s.name,className:"w-full h-full object-cover",onError:c=>{c.target.style.display="none",c.target.nextSibling.style.display="flex"}}):e.jsx("span",{className:"text-white font-bold text-lg",children:s.name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[s.subscriptionPlan.charAt(0).toUpperCase()+s.subscriptionPlan.slice(1)," ","Plan",s.joinCode&&` • Join Code: ${s.joinCode}`]}),s.description&&e.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-1",children:s.description})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>n(`/dashboard/membership/${s.id}/view`),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm whitespace-nowrap",children:"Dashboard"}),e.jsx("button",{onClick:()=>t(h===s.id?null:s.id),className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm whitespace-nowrap",children:h===s.id?"Hide":"Details"})]})})]}),e.jsx("div",{className:"flex overflow-x-auto gap-2 mb-4 pb-2 -mx-1 px-1 scrollbar-hide",children:s.modules.map((c,S)=>{const k=o[c.name]||Q,l=C(c.status);return e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-full border border-gray-200 whitespace-nowrap flex-shrink-0",children:[e.jsx(k,{className:"h-3.5 w-3.5 text-gray-600"}),e.jsx("span",{className:"text-xs text-gray-700",children:c.name}),e.jsx(l,{className:`h-3 w-3 ${d(c.status).split(" ")[0]}`})]},S)})}),h===s.id&&e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"mt-6 pt-4 border-t",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Organization Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[s.website&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4 text-gray-500"}),e.jsxs("a",{href:s.website.startsWith("http")?s.website:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:[s.website.replace(/^https?:\/\//,""),e.jsx(be,{className:"h-3 w-3"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:s.isPublic?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-700",children:"Public Organization"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-gray-700",children:"Private Organization"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-700",children:"Join Code:"}),e.jsx("span",{className:"font-mono text-gray-800 bg-gray-100 px-2 py-1 rounded text-xs",children:s.joinCode})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-700",children:"Plan:"}),e.jsx("span",{className:"text-gray-800 capitalize",children:s.subscriptionPlan})]})]})]})})]})},s.id))})})]})};export{Ye as default};
