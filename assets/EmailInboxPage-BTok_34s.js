import{c as L,r as o,j as e,P as I,M as p}from"./index-C3Nn7RB1.js";import{S as i,M as q}from"./star-EBJBm_Vv.js";import{F as z}from"./file-text-unWI-6TU.js";import{T as v,S as O}from"./trash-2-Dvk5OlcT.js";import{X as T}from"./x-CE_KZ2wn.js";import{C as R}from"./chevron-left-BEjLT91a.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=L("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=L("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),J=()=>{const[n,d]=o.useState([]),[t,f]=o.useState(null),[E,x]=o.useState(!1),[j,m]=o.useState(!1),[u,M]=o.useState("");o.useState(1);const[a,h]=o.useState({to:"",subject:"",body:""}),[g,N]=o.useState(!1),[l,b]=o.useState("inbox"),D=[{id:1,from:"john.doe@example.com",to:"you@example.com",subject:"Project Update Meeting",body:"Hi there, I wanted to schedule a meeting to discuss the project updates for next week.",date:"2024-01-15T10:30:00",read:!1,starred:!0,labels:["Work","Important"],folder:"inbox"},{id:2,from:"sarah.smith@company.com",to:"you@example.com",subject:"Weekly Newsletter",body:"Check out our latest updates and news in this week's newsletter.",date:"2024-01-14T14:45:00",read:!0,starred:!0,labels:["Newsletter"],folder:"inbox"},{id:3,from:"support@service.com",to:"you@example.com",subject:"Your Account Security",body:"We noticed unusual activity on your account. Please review your security settings.",date:"2024-01-14T09:15:00",read:!1,starred:!1,labels:["Security","Urgent"],folder:"inbox"},{id:4,from:"you@example.com",to:"team@company.com",subject:"Weekly Report",body:"Here is the weekly report as requested.",date:"2024-01-13T16:20:00",read:!0,starred:!1,labels:["Work"],folder:"sent"},{id:5,from:"you@example.com",to:"client@business.com",subject:"Project Proposal",body:"Attached is the project proposal we discussed.",date:"2024-01-12T11:05:00",read:!0,starred:!0,labels:["Work","Proposal"],folder:"sent"},{id:6,from:"newsletter@example.com",to:"you@example.com",subject:"Monthly Digest",body:"Your monthly digest is here!",date:"2024-01-10T09:30:00",read:!0,starred:!1,labels:["Newsletter"],folder:"trash"},{id:7,from:"you@example.com",to:"colleague@company.com",subject:"Draft: Meeting Notes",body:"Here are the notes from our meeting...",date:"2024-01-09T14:15:00",read:!0,starred:!1,labels:["Work"],folder:"drafts"}];o.useEffect(()=>{(async()=>{m(!0);try{setTimeout(()=>{d(D),m(!1)},1e3)}catch(r){console.error("Error fetching emails:",r),m(!1)}})()},[]);const W=async()=>{try{m(!0),console.log("Email sent:",a);const s={id:n.length+1,from:"you@example.com",to:a.to,subject:a.subject,body:a.body,date:new Date().toISOString(),read:!0,starred:!1,labels:[],folder:"sent"};d([...n,s]),x(!1),h({to:"",subject:"",body:""})}catch(s){console.error("Error sending email:",s)}finally{m(!1)}},$=async s=>{try{d(n.map(r=>r.id===s?{...r,folder:"trash"}:r)),(t==null?void 0:t.id)===s&&f(null)}catch(r){console.error("Error deleting email:",r)}},k=async s=>{try{d(n.map(r=>r.id===s?{...r,starred:!r.starred}:r)),(t==null?void 0:t.id)===s&&f({...t,starred:!t.starred})}catch(r){console.error("Error toggling star:",r)}},P=async s=>{try{d(n.map(r=>r.id===s?{...r,read:!0}:r))}catch(r){console.error("Error marking as read:",r)}},F=async(s,r)=>{try{d(n.map(c=>c.id===s?{...c,folder:r}:c)),(t==null?void 0:t.id)===s&&r==="trash"&&f(null)}catch(c){console.error("Error moving email:",c)}},w=n.filter(s=>l==="starred"&&!s.starred||l!=="starred"&&s.folder!==l?!1:u?s.subject.toLowerCase().includes(u.toLowerCase())||s.from.toLowerCase().includes(u.toLowerCase())||s.body.toLowerCase().includes(u.toLowerCase()):!0),S=s=>{const r=new Date(s);return r.toLocaleDateString()+" "+r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},C=()=>{switch(l){case"inbox":return"Inbox";case"starred":return"Starred";case"sent":return"Sent";case"drafts":return"Drafts";case"trash":return"Trash";default:return"Inbox"}},A=()=>{switch(l){case"inbox":return e.jsx(p,{size:20,className:"mr-2"});case"starred":return e.jsx(i,{size:20,className:"mr-2"});case"sent":return e.jsx(y,{size:20,className:"mr-2"});case"drafts":return e.jsx(z,{size:20,className:"mr-2"});case"trash":return e.jsx(v,{size:20,className:"mr-2"});default:return e.jsx(p,{size:20,className:"mr-2"})}};return j&&n.length===0?e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"flex h-screen bg-white text-xs",children:[e.jsxs("div",{className:`w-64 bg-white border-r border-gray-200 px-4 fixed lg:static inset-y-0 left-0 z-40 transform ${g?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-200 ease-in-out`,children:[e.jsxs("button",{onClick:()=>{x(!0),N(!1)},className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 hover:bg-blue-700 transition-colors mt-4",children:[e.jsx(I,{size:20}),e.jsx("span",{children:"Compose"})]}),e.jsx("nav",{className:"mt-6",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>b("inbox"),className:`w-full text-left py-2 px-4 rounded-lg flex items-center ${l==="inbox"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(p,{size:20,className:"mr-2"}),"Inbox"]}),e.jsxs("button",{onClick:()=>b("starred"),className:`w-full text-left py-2 px-4 rounded-lg flex items-center ${l==="starred"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(i,{size:20,className:"mr-2"}),"Starred"]}),e.jsxs("button",{onClick:()=>b("sent"),className:`w-full text-left py-2 px-4 rounded-lg flex items-center ${l==="sent"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(y,{size:20,className:"mr-2"}),"Sent"]}),e.jsxs("button",{onClick:()=>b("drafts"),className:`w-full text-left py-2 px-4 rounded-lg flex items-center ${l==="drafts"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(z,{size:20,className:"mr-2"}),"Drafts"]}),e.jsxs("button",{onClick:()=>b("trash"),className:`w-full text-left py-2 px-4 rounded-lg flex items-center ${l==="trash"?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(v,{size:20,className:"mr-2"}),"Trash"]})]})})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>N(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[e.jsxs("div",{className:"flex flex-row gap-4 bg-white border-b border-gray-200 px-4 py-4",children:[e.jsx("button",{onClick:()=>N(!g),className:"lg:hidden p-2 bg-white rounded-md shadow-md",children:g?e.jsx(T,{size:24}):e.jsx(q,{size:24})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search emails...",value:u,onChange:s=>M(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[e.jsx("div",{className:"email-list-container w-full lg:w-1/3 border-r border-gray-200 bg-white overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[A(),C(),e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",w.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:w.length>0?w.map(s=>e.jsxs("div",{onClick:()=>{f(s),!s.read&&s.folder!=="sent"&&P(s.id),window.innerWidth<1024&&(document.querySelector(".email-list-container").classList.add("hidden"),document.querySelector(".email-detail-container").classList.remove("hidden"))},className:`p-3 border rounded-lg cursor-pointer transition-colors ${(t==null?void 0:t.id)===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${!s.read&&s.folder!=="sent"?"bg-blue-50":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-800",children:s.folder==="sent"?s.to.split("@")[0]:s.from.split("@")[0]}),!s.read&&s.folder!=="sent"&&e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:S(s.date)}),e.jsx("button",{onClick:r=>{r.stopPropagation(),k(s.id)},className:"p-1 hover:bg-gray-100 rounded",children:s.starred?e.jsx(i,{className:"h-4 w-4 text-yellow-400 fill-current"}):e.jsx(i,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsx("h3",{className:"font-medium text-gray-900 text-sm mb-1",children:s.subject}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:s.body}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.labels.map((r,c)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:r},c))})]},s.id)):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No emails found"})})})]})}),e.jsx("div",{className:"email-detail-container hidden lg:block flex-1 bg-white p-6 overflow-y-auto",children:t?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:()=>{window.innerWidth<1024&&(document.querySelector(".email-list-container").classList.remove("hidden"),document.querySelector(".email-detail-container").classList.add("hidden"))},className:"lg:hidden flex items-center text-blue-600 mb-4",children:[e.jsx(R,{size:20,className:"mr-1"}),"Back"]}),e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:t.subject}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>k(t.id),className:"p-2 hover:bg-gray-100 rounded",children:t.starred?e.jsx(i,{className:"h-5 w-5 text-yellow-400 fill-current"}):e.jsx(i,{className:"h-5 w-5 text-gray-400"})}),e.jsx("button",{onClick:()=>$(t.id),className:"p-2 hover:bg-gray-100 rounded",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("button",{onClick:()=>F(t.id,"drafts"),className:"p-2 hover:bg-gray-100 rounded",children:e.jsx(U,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:t.folder==="sent"?t.to[0].toUpperCase():t.from[0].toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:t.folder==="sent"?t.to:t.from}),e.jsx("p",{className:"text-sm text-gray-500",children:t.folder==="sent"?`to ${t.to}`:`from ${t.from}`}),e.jsx("p",{className:"text-sm text-gray-500",children:S(t.date)})]})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:t.body})})]}),t.folder!=="sent"&&e.jsx("div",{className:"border-t pt-6",children:e.jsxs("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(y,{size:18,className:"mr-2"}),"Reply"]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an email to read"}),e.jsxs("p",{className:"text-gray-500",children:["Choose an email from your ",C().toLowerCase()," to view its contents"]})]})})]})]}),E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Message"}),e.jsx("button",{onClick:()=>x(!1),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(T,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),e.jsx("input",{type:"email",value:a.to,onChange:s=>h({...a,to:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"recipient@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),e.jsx("input",{type:"text",value:a.subject,onChange:s=>h({...a,subject:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Subject"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),e.jsx("textarea",{value:a.body,onChange:s=>h({...a,body:s.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Write your message here..."})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsxs("button",{onClick:W,disabled:j||!a.to||!a.subject,className:"bg-blue-600 text-white py-2 px-4 rounded-lg flex items-center space-x-2 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(y,{size:18}),e.jsx("span",{children:j?"Sending...":"Send"})]})]})]})})]})};export{J as default};
