import{r as n,j as e,M as g}from"./index-MVzjul59.js";import{C as N}from"./circle-arrow-right-DoJTiWPE.js";import{P as y}from"./phone-BHsKqiqz.js";import{L as p}from"./lock-BP3VryO6.js";const C=()=>{const[t,d]=n.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:"",profilePicture:null}),[m,h]=n.useState(null),[u,x]=n.useState(!1),[f,o]=n.useState(""),[i,w]=n.useState(!1);n.useEffect(()=>{(async()=>{const a={fullName:"John Doe",email:"john@example.com",phone:"08012345678",profilePicture:null};d(s=>({...s,fullName:a.fullName,email:a.email,phone:a.phone}))})()},[]);const r=c=>{const{name:a,value:s,files:l}=c.target;d(b=>({...b,[a]:l?l[0]:s})),l&&l[0]&&h(URL.createObjectURL(l[0]))},j=async c=>{if(c.preventDefault(),o(""),t.password&&t.password!==t.confirmPassword){o("❌ Passwords do not match.");return}x(!0);const a=new FormData;for(let s in t)t[s]&&a.append(s,t[s]);try{const s=await fetch("/api/profile/update",{method:"POST",body:a}),l=await s.json();o(s.ok?"✅ Profile updated successfully.":`❌ ${l.message}`)}catch{o("❌ Something went wrong.")}finally{x(!1)}};return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center items-center dark:bg-slate-900",children:[e.jsxs("div",{className:"p-6 mx-auto bg-white shadow rounded w-full md:w-1/2",children:[e.jsx("h2",{className:"font-kanit mb-4 text-center text-sm font-semibold text-[#003366]",children:"PROFILE SETTINGS"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(N,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:r,className:"w-full text-sm decoration-none outline-none",placeholder:"Full Name"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(g,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:r,className:"w-full text-sm decoration-none outline-none",placeholder:"Email"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border gap-2 p-2 flex items-center justify-between",children:[e.jsx(y,{className:"text-[#003366]",size:16}),e.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:r,className:"w-full text-sm decoration-none outline-none",placeholder:"Phone Number"})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded border p-2 flex gap-2 items-center justify-between",children:[e.jsx(p,{className:"text-[#003366]",size:16}),e.jsx("input",{type:i?"text":"password",name:"password",value:t.password,onChange:r,className:"w-full text-sm decoration-none outline-none",placeholder:"New Password"}),e.jsx("button",{type:"button",onClick:()=>w(!i),className:"ml-2 text-gray-600",children:i?e.jsx("p",{className:"text-xs text-[#003366]",children:"Hide"}):e.jsx("p",{className:"text-xs text-[#003366]",children:"Show"})})]}),e.jsxs("div",{className:"mb-4 w-full mt-1 rounded gap-2 border p-2 flex items-center justify-between",children:[e.jsx(p,{className:"text-[#003366]",size:16}),e.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:r,className:"w-full text-sm decoration-none outline-none",placeholder:"Confirm Password"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-30 border-2 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 dark:bg-slate-800 dark:border-slate-600 dark:hover:bg-slate-700 transition",children:[m?e.jsx("img",{src:m,alt:"Profile Preview",className:"h-full object-contain"}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:[e.jsx("svg",{className:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4a1 1 0 011-1h8a1 1 0 011 1v12M5 20h14a1 1 0 001-1v-4a1 1 0 00-1-1H5a1 1 0 00-1 1v4a1 1 0 001 1z"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:e.jsx("span",{className:"font-semibold",children:"Click to upload profile picture"})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, JPEG (max. 2MB)"})]}),e.jsx("input",{type:"file",name:"profilePicture",accept:"image/*",onChange:r,className:"hidden"})]})}),e.jsx("button",{type:"submit",className:"w-full rounded bg-[#003366] py-2 text-white hover:bg-[#7A54A1] flex justify-center items-center",disabled:u,children:u?e.jsx("div",{className:"w-5 h-5 border-2 border-t border-white rounded-full animate-spin"}):"Update Profile"}),f&&e.jsx("p",{className:"text-sm text-center mt-2 text-red-500 dark:text-green-300",children:f})]})]}),e.jsx("div",{className:"w-full md:w-1/2"})]})};export{C as default};
